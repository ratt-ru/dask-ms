language: python
matrix:
  include:
  - env: TARGET=python2
  - env: TARGET=python35
  - env: TARGET=python36
  - env: TARGET=pep8
sudo: required
services:
- docker
before_install:
- true
install:
- docker build . -t ${TARGET} -f .travis/${TARGET}.docker
before_script:
- true
script:
- true
deploy:
  provider: pypi
  user: gijzelaerr
  password:
    secure: gqM0EbIHnanW3/vWOVWAwz/u/PSk9Bztvh6lV1VHBAAPHy7SRH0w4fv0UokxPHJLXp0E8wCg0h0GoLNealDrJrRxuhPZOpQT+nE9zLkHplhPLE6TLrwsnW7AzfTO2pJYu0QnzEDKR7Phw3RSf4ZqyDhrPpZrEgAOzhRRytioh4EwR+AuUZ7+aivvhBoEuXn7Zv8mAKBdttqKcM8rtE6j9u5B9AIuPQBEAlEcFyN4++Nat/sGOHPlxKYPNCSmbNw7fjfu0sgwsFnHV+eaFxhMUzOqdbhQes938N9zOhSQfQOcVv2B7kFnS/uff0iMntNeBxCkfnkcNRdOhWnbz1vfs5YxN/b3u5iWU6SVovOhVKFIpuDsG05YXdcxVOyrd9gkBPjuzShfyXeqDcTSW3hzMR/4A4v5pPtrq7eht0hOL9on0GJlhGRap1o3k0Uc3ksNRkKwPg6ZL9+Q8kr3nKG7yJlVyzLIVJcaEdam6Y1VygNeWiqOM74Bb/4aJUpz6kGjhQkVthxezSUrMKt8UsxjfSRMWmtxXhgMyqAtHg4mf3qrA4Ivd6CgeRBqzeqef7oYqLq7jyBD2WYz76BcGLm9rhV+ZDi4U1JK1hW8UGgmXnKilS9BIMJY61E0OSa3w2AbQ/PpNfdbtM/OE5K/BYIputOcIH7G9PK4HkzEudpdUYo=
  on:
    tags: true
    distributions: sdist bdist_wheel
    repo: ska-sa/xarray-ms
